<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <div id="textBlock1">
        <p>Et harum quidem rerum facilis est et expedita distinctio, quis nostrum exercitationem ullam corporis suscipit laboriosam,' velit esse cillum dolore eu fugiat nulla' pariatur! Itaque earum rerum hic tenetur a sapiente delectus, quis nostrum exercitationem ullam corporis suscipit laboriosam, quis nostrud exercitation ullamco laboris nisi ut 'aliquip ex ea commodo' consequat.</p>
        <p>Sed ut perspiciatis, quis nostrum exercitationem ullam corporis suscipit laboriosam, ut et voluptates repudiandae sint et molestiae non recusandae. Excepteur sint occaecat cupidatat non proident, nam libero tempore, 'cum soluta nobis est eligendi optio, cumque' nihil impedit, quo minus id, quod maxime placeat, obcaecati cupiditate non provident, similique sunt in culpa, qui 'officia deserunt mollitia 'animi, id est laborum et dolorum fuga. Excepteur sint occaecat cupidatat non proident, unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam eaque ipsa, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        <p>Nemo enim ipsam voluptatem, qui blanditiis praesentium 'voluptatum deleniti' atque corrupti, quos dolores et quas molestias 'excepturi sint,' quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt, explicabo. Quis autem vel eum iure reprehenderit, consectetur adipiscing elit, quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt, explicabo?</p>
        <p>Itaque earum...</p>
    </div>
    <input type="submit" value="Заменить кавычки" onclick="replaceQuotationMarks();return false;">
    <div id="textBlock2">
        <p>Et harum quidem rerum facilis est et expedita distinctio, quis nostrum exercitationem ullam corporis suscipit laboriosam,' velit esse cillum dolore eu fugiat nulla' pariatur! Itaque earum rerum hic tenetur a sapiente delectus, quis nostrum exercitationem ullam corporis suscipit laboriosam, quis nostrud exercitation ullamco laboris nisi ut 'aliquip ex ea commodo' consequat.</p>
        <p>Sed ut perspiciatis, quis nostrum exercitationem ullam corporis suscipit laboriosam, ut et voluptates repudiandae sint et molestiae non recusandae. Excepteur sint occaecat cupidatat non proident, nam libero tempore, 'cum soluta nobis est eligendi optio, cumque' nihil impedit, quo minus id, quod maxime placeat, obcaecati cupiditate non provident, similique sunt in culpa, qui 'officia deserunt mollitia 'animi, id est laborum et dolorum fuga. Excepteur sint occaecat cupidatat non proident, unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam eaque ipsa, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        <p>Nemo enim ipsam voluptatem, qui blanditiis praesentium 'voluptatum deleniti' atque corrupti, quos dolores et quas molestias 'excepturi sint,' quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt, explicabo. Quis autem vel eum iure reprehenderit, consectetur adipiscing elit, quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt, explicabo?</p>
        <p>Itaque earum...</p>
        <p>aren't</p>
    </div>
    <input type="submit" value="Заменить кавычки" onclick="newReplaceQuotationMarks();return false;">
    <h2>Обратная связь</h2>
    <style>
    .error {
        border: 1px solid red;
    }
    </style>
    <form action="">
        <label>Имя: </label>
        <input type="text" id="name">
        <br>
        <label>Телефон: </label>
        <input type="tel" id="tel">
        <br>
        <label>E-mail: </label>
        <input type="email" id="email">
        <br>
        <label>Сообщение: </label>
        <textarea id="message"></textarea>
        <br>
        <input type="submit" value="Отправить" onclick="sendMessage();return false;">
    </form>
    <script>
    function replaceQuotationMarks() {
        var textblock1 = document.getElementById("textBlock1").querySelectorAll("p");

        var quotationMarks = new RegExp(/[']+/g);

        for (var i = 0; i < textblock1.length; i++) {
            var newTextBlock = textblock1[i].innerText.replace(quotationMarks, '"');
            textblock1[i].innerText = newTextBlock;
            //console.log(textblock1[i].innerText);
        }


    }

    function newReplaceQuotationMarks() {
        var textblock2 = document.getElementById("textBlock2").querySelectorAll("p");

        var quotationMarks = new RegExp(/[']+/g);
        var test = new RegExp(/[aA-zZ]['][aA-zZ]/);

        for (var i = 0; i < textblock2.length; i++) {
            //console.log((test.test(textblock2[i].innerText)));
            if (!(test.test(textblock2[i].innerText))) {
                var newTextBlock = textblock2[i].innerText.replace(quotationMarks, '"');
                textblock2[i].innerText = newTextBlock;
            }
            //console.log(textblock1[i].innerText);
        }


    }

    function sendMessage() {
        try {

            var name = document.getElementById("name");
            var tel = document.getElementById("tel");
            var email = document.getElementById("email");
            var message = document.getElementById("message");

            var testSucs = 0;

            // console

            var nameReg = new RegExp(/^[a-zа-яё]{2,}$/i);

            var telReg = new RegExp(/\+[7]\(\d{3}\)\d{3}-\d{4}/);

            var emailReg = new RegExp(/(^\w+(|(\.|\-)\w+))(?=@[a-z]{2,}\.[a-z]{2,4}\b)/i);

            // console.log(tel);

            function testInput(testInp, inputTest) {


                if (testInp.test(inputTest.value)) {


                    inputTest.className = inputTest.className.replace("error ", "");



                    testSucs++;

                } else {

                    inputTest.className = inputTest.className + "error ";

                }

            }

            testInput(nameReg, name);
            testInput(telReg, tel);
            testInput(emailReg, email);

            console.log(testSucs);

        } catch (e) {
            console.log(e.name + ': ' + e.message);
        }


    }
    </script>
</body>

</html>